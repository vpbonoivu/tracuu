<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Tra c·ª©u th√¥ng tin li√™n h·ªá ƒë·ªãa ph∆∞∆°ng (2025)</title>

    <meta property="og:title" content="Tra c·ª©u Th√¥ng tin Li√™n h·ªá - D·ªØ li·ªáu 2025">
    <meta property="og:description"
        content="C√¥ng c·ª• tra c·ª©u th√¥ng tin li√™n h·ªá 34 ƒë·ªãa ph∆∞∆°ng sau s√°p nh·∫≠p. Ho·∫°t ƒë·ªông offline.">
    <meta property="og:type" content="website">

    <style>
        :root {
            --primary-color: #003366;
            --secondary-color: #f0f2f5;
            --text-color: #333;
            --border-color: #ddd;
            --accent-color: #d9534f;
            --card-bg: #ffffff;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: var(--secondary-color);
            color: var(--text-color);
            margin: 0;
            padding: 15px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background-color: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            text-align: center;
            padding: 15px;
            background-color: var(--primary-color);
            border-bottom: 1px solid var(--border-color);
        }

        .header h2 {
            margin: 3px 0;
            font-size: 0.9em;
            color: #ffffff;
            font-weight: bold;
            text-transform: uppercase;
            font-family: sans-serif;
            letter-spacing: 0.5px;
        }

        .main-content {
            padding: 20px 25px;
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            font-size: 1.6em;
            margin-bottom: 25px;
        }

        .search-area {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
            align-items: center;
        }

        #provinceInput {
            flex-grow: 1;
            padding: 12px 15px;
            font-size: 1em;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            min-width: 150px;
            box-sizing: border-box;
            -webkit-appearance: none;
        }

        #micButton {
            padding: 10px 14px;
            font-size: 1.2em;
            border: 1px solid var(--border-color);
            background-color: #fff;
            color: var(--primary-color);
            border-radius: 50%;
            cursor: pointer;
            flex-shrink: 0;
            line-height: 1;
        }

        #micButton.is-listening {
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(217, 83, 79, 0.7);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(217, 83, 79, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(217, 83, 79, 0);
            }
        }

        #searchButton {
            padding: 12px 20px;
            font-size: 1em;
            font-weight: bold;
            color: #fff;
            background-color: var(--primary-color);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
            flex-shrink: 0;
            -webkit-appearance: none;
        }

        @media (max-width: 480px) {
            #searchButton {
                width: 100%;
                order: 3;
            }

            #provinceInput {
                min-width: calc(100% - 70px);
            }
        }

        #searchButton:hover,
        #searchButton:active {
            background-color: #0056b3;
        }

        #resultsContainer {
            margin-top: 20px;
            border-top: 3px solid var(--primary-color);
            padding-top: 20px;
        }

        #resultTenTinh {
            text-align: center;
            font-size: 1.8em;
            color: var(--accent-color);
            margin-bottom: 25px;
            font-weight: bold;
        }

        .result-item {
            margin-bottom: 25px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 4px solid var(--primary-color);
            border-radius: 0 8px 8px 0;
        }

        .result-item h3 {
            color: var(--primary-color);
            font-size: 1.2em;
            margin-top: 0;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .result-item p,
        .result-item div {
            font-size: 1em;
            line-height: 1.7;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .contact-entry {
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px dashed var(--border-color);
        }

        .contact-entry:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .contact-entry p {
            margin: 4px 0;
        }

        .no-info {
            font-style: italic;
            color: #888;
        }

        #message {
            text-align: center;
            font-size: 1.1em;
            padding: 15px;
            border-radius: 8px;
            line-height: 1.5;
        }

        .info-message {
            background-color: #e7f3fe;
            color: #0c5460;
        }

        .error-message {
            background-color: #f8d7da;
            color: #721c24;
        }

        .hidden {
            display: none;
        }

        a.details-link {
            color: var(--accent-color);
            font-weight: bold;
            text-decoration: none;
            cursor: pointer;
        }
        a.details-link:hover {
            text-decoration: underline;
        }
        
        /* === CSS CHO POP-UP (MODAL) === */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.6);
            animation: fadeIn 0.3s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 25px 30px;
            border: 1px solid #888;
            width: 90%;
            max-width: 900px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            position: relative;
        }

        .close-button {
            color: #aaa;
            position: absolute;
            top: 15px;
            right: 25px;
            font-size: 32px;
            font-weight: bold;
            line-height: 1;
        }

        .close-button:hover,
        .close-button:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        
        #modal-title {
            color: var(--primary-color);
            border-bottom: 2px solid var(--border-color);
            padding-bottom: 15px;
            margin-bottom: 20px;
        }

        #modal-body {
            max-height: 65vh;
            overflow-y: auto;
            padding-right: 15px; /* T·∫°o kho·∫£ng tr·ªëng cho thanh cu·ªôn */
        }
        
        .modal-summary {
            background-color: #e7f3fe;
            border-left: 4px solid #0c5460;
            padding: 10px 15px;
            margin-bottom: 15px;
            font-size: 0.95em;
            line-height: 1.6;
        }

        /* CSS cho b·∫£ng trong pop-up */
        .details-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.95em;
        }
        .details-table th, .details-table td {
            border: 1px solid var(--border-color);
            padding: 10px 12px;
            text-align: left;
            vertical-align: top;
        }
        .details-table th {
            background-color: #f2f2f2;
            font-weight: bold;
            color: var(--primary-color);
        }
        .details-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            margin-top: 20px;
            font-size: 0.9em;
            color: #777;
            border-top: 1px solid var(--border-color);
        }
    </style>
</head>

<body>

    <div class="container">
        <div class="header">
            <h2>VƒÇN PH√íNG B·ªò N·ªòI V·ª§</h2>
            <h2>PH√íNG T·ªîNG H·ª¢P ‚Äì TH∆Ø K√ù</h2>
        </div>

        <div class="main-content">
            <h1>Tra c·ª©u th√¥ng tin li√™n h·ªá ƒë·ªãa ph∆∞∆°ng (2025)</h1>

            <div class="search-area">
                <input type="text" id="provinceInput" placeholder="Nh·∫≠p t√™n t·ªânh/th√†nh ph·ªë..." autocomplete="off">
                <button id="micButton" title="Nh·∫≠p b·∫±ng gi·ªçng n√≥i (c·∫ßn Internet)">üéôÔ∏è</button>
                <button id="searchButton">Tra c·ª©u</button>
            </div>

            <div id="message" class="info-message">
                ƒêang t·∫£i d·ªØ li·ªáu t·ª´ m√°y ch·ªß, vui l√≤ng ƒë·ª£i...
            </div>

            <div id="resultsContainer" class="hidden">
                <h2 id="resultTenTinh"></h2>
                <div id="infoChungItem" class="result-item hidden">
                    <h3>üìù Th√¥ng tin chung</h3>
                    <div id="resultThongTinChung"></div>
                </div>
                <div id="trungTamHCItem" class="result-item hidden">
                    <h3>üìç Trung t√¢m h√†nh ch√≠nh m·ªõi</h3>
                    <div id="resultTrungTamHC"></div>
                </div>
                <div id="lanhDaoTinhItem" class="result-item hidden">
                    <h3>üë§ L√£nh ƒë·∫°o T·ªânh/Th√†nh ph·ªë</h3>
                    <div id="resultLanhDaoTinh"></div>
                </div>
                <div class="result-item">
                    <h3>üè¢ L√£nh ƒë·∫°o S·ªü N·ªôi v·ª•</h3>
                    <div id="resultLanhDaoSo"></div>
                </div>
                <div class="result-item">
                    <h3>üìû ƒê·∫ßu m·ªëi li√™n h·ªá S·ªü</h3>
                    <div id="resultDauMoi"></div>
                </div>
                <div id="ghiChuItem" class="result-item hidden">
                    <h3>‚ÑπÔ∏è Ghi ch√∫</h3>
                    <div id="resultGhiChu"></div>
                </div>
            </div>
        </div>

        <footer>
            Copyright ¬© 2025 - Ph√≤ng T·ªïng h·ª£p - Th∆∞ k√Ω
        </footer>
    </div>
    
    <!-- === C·∫§U TR√öC HTML CHO POP-UP (MODAL) === -->
    <div id="detailsModal" class="modal">
        <div class="modal-content">
            <span id="closeModalButton" class="close-button">&times;</span>
            <h2 id="modal-title">Chi ti·∫øt ƒê∆°n v·ªã H√†nh ch√≠nh</h2>
            <div id="modal-body">
                <!-- N·ªôi dung chi ti·∫øt s·∫Ω ƒë∆∞·ª£c ch√®n v√†o ƒë√¢y b·∫±ng JavaScript -->
            </div>
        </div>
    </div>


    <script type="module">
        // B∆∞·ªõc 1: Import c√°c h√†m c·∫ßn thi·∫øt t·ª´ Firebase SDK
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
        import { getFirestore, getDocs, collection } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";

        // B∆∞·ªõc 2: C·∫•u h√¨nh Firebase c·ªßa b·∫°n
        const firebaseConfig = {
            apiKey: "AIzaSyA-1BYFs94_IXw-Hq34dKEjaYGR9ofjwgo",
            authDomain: "tracuutinhthanh.firebaseapp.com",
            projectId: "tracuutinhthanh",
            storageBucket: "tracuutinhthanh.appspot.com",
            messagingSenderId: "702568826931",
            appId: "1:702568826931:web:84c3a510867e17a7adfb46",
            measurementId: "G-YSMS77L1QS"
        };

        // B∆∞·ªõc 3: Kh·ªüi t·∫°o Firebase v√† c√°c d·ªãch v·ª•
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);
        
        // === D·ªÆ LI·ªÜU CHI TI·∫æT C√ÅC T·ªàNH (C·∫¨P NH·∫¨T T·ª™ FILE EXCEL) ===
        // *** ƒê√É S·ª¨A L·ªñI: C√ÅC KEY ƒê√É C√ì D·∫§U C√ÅCH ƒê·ªÇ KH·ªöP V·ªöI D·ªÆ LI·ªÜU CHU·∫®N H√ìA ***
        const provinceDetails = {
            'an giang': `
                <div class="modal-summary">
                    <p><strong>T·ªïng s·ªë ƒêVHC c·∫•p x√£:</strong> 102 (g·ªìm 85 x√£, 14 ph∆∞·ªùng v√† 3 ƒë·∫∑c khu).</p>
                    <p><strong>Gi·ªØ nguy√™n kh√¥ng s·∫Øp x·∫øp (06 x√£):</strong> M·ªπ H√≤a H∆∞ng, B√¨nh Giang, B√¨nh S∆°n, H√≤n Ngh·ªá, S∆°n H·∫£i v√† Ti√™n H·∫£i.</p>
                </div>
                <table class="details-table">
                    <thead>
                        <tr>
                            <th style="width:5%">STT</th>
                            <th>ƒê∆°n v·ªã h√†nh ch√≠nh m·ªõi</th>
                            <th>S·∫Øp x·∫øp t·ª´ c√°c ƒêVHC c·∫•p x√£ c≈©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>x√£ An Ph√∫</td><td>th·ªã tr·∫•n An Ph√∫ + x√£ Vƒ©nh H·ªôi ƒê√¥ng + m·ªôt ph·∫ßn c√°c x√£: Ph√∫ H·ªôi, Ph∆∞·ªõc H∆∞ng</td></tr>
                        <tr><td>2</td><td>x√£ Vƒ©nh H·∫≠u</td><td>th·ªã tr·∫•n ƒêa Ph∆∞·ªõc + x√£ Vƒ©nh Tr∆∞·ªùng + x√£ Vƒ©nh H·∫≠u</td></tr>
                        <tr><td>3</td><td>x√£ Nh∆°n H·ªôi</td><td>x√£ Nh∆°n H·ªôi + x√£ Qu·ªëc Th√°i + x√£ Ph∆∞·ªõc H∆∞ng + m·ªôt ph·∫ßn x√£ Ph√∫ H·ªôi</td></tr>
                        <tr><td>4</td><td>x√£ Kh√°nh B√¨nh</td><td>th·ªã tr·∫•n Long B√¨nh + x√£ Kh√°nh An + x√£ Kh√°nh B√¨nh</td></tr>
                        <tr><td>5</td><td>x√£ Ph√∫ H·ªØu</td><td>x√£ Ph√∫ H·ªØu + x√£ Vƒ©nh L·ªôc + m·ªôt ph·∫ßn x√£ Ph∆∞·ªõc H∆∞ng</td></tr>
                        <tr><td>6</td><td>x√£ T√¢n An</td><td>x√£ T√¢n Th·∫°nh + x√£ T√¢n An + x√£ Long An</td></tr>
                        <tr><td>7</td><td>x√£ Ch√¢u Phong</td><td>x√£ Ph√∫ Vƒ©nh + x√£ L√™ Ch√°nh + x√£ Ch√¢u Phong</td></tr>
                        <tr><td>8</td><td>x√£ Vƒ©nh X∆∞∆°ng</td><td>x√£ Ph√∫ L·ªôc + x√£ Vƒ©nh X∆∞∆°ng + x√£ Vƒ©nh H√≤a</td></tr>
                        <tr><td>9</td><td>x√£ Ph√∫ T√¢n</td><td>th·ªã tr·∫•n Ph√∫ M·ªπ + x√£ T√¢n Trung + x√£ T√¢n H√≤a + x√£ Ph√∫ H∆∞ng</td></tr>
                        <tr><td>10</td><td>x√£ Ph√∫ An</td><td>x√£ Ph√∫ Th·ªç + x√£ Ph√∫ Xu√¢n + x√£ Ph√∫ An</td></tr>
                        <tr><td>11</td><td>x√£ B√¨nh Th·∫°nh ƒê√¥ng</td><td>x√£ Hi·ªáp X∆∞∆°ng + x√£ Ph√∫ B√¨nh + x√£ B√¨nh Th·∫°nh ƒê√¥ng</td></tr>
                        <tr><td>12</td><td>x√£ Ch·ª£ V√†m</td><td>th·ªã tr·∫•n Ch·ª£ V√†m + x√£ Ph√∫ Th·∫°nh + x√£ Ph√∫ Th√†nh</td></tr>
                        <tr><td>13</td><td>x√£ H√≤a L·∫°c</td><td>x√£ H√≤a L·∫°c + x√£ Ph√∫ Hi·ªáp</td></tr>
                        <tr><td>14</td><td>x√£ Ph√∫ L√¢m</td><td>x√£ Long H√≤a + x√£ Ph√∫ L√¢m + x√£ Ph√∫ Long</td></tr>
                        <tr><td>15</td><td>x√£ Ch√¢u Ph√∫</td><td>th·ªã tr·∫•n C√°i D·∫ßu + x√£ B√¨nh Long + x√£ B√¨nh Ph√∫</td></tr>
                        <tr><td>16</td><td>x√£ M·ªπ ƒê·ª©c</td><td>x√£ Kh√°nh H√≤a + x√£ M·ªπ ƒê·ª©c</td></tr>
                        <tr><td>17</td><td>x√£ Vƒ©nh Th·∫°nh Trung</td><td>th·ªã tr·∫•n Vƒ©nh Th·∫°nh Trung + x√£ M·ªπ Ph√∫</td></tr>
                        <tr><td>18</td><td>x√£ B√¨nh M·ªπ</td><td>x√£ B√¨nh M·ªπ + x√£ B√¨nh Th·ªßy + x√£ B√¨nh Ch√°nh</td></tr>
                        <tr><td>19</td><td>x√£ Th·∫°nh M·ªπ T√¢y</td><td>x√£ ƒê√†o H·ªØu C·∫£nh + x√£ √î Long Vƒ© + x√£ Th·∫°nh M·ªπ T√¢y</td></tr>
                        <tr><td>20</td><td>x√£ An C∆∞</td><td>x√£ VƒÉn Gi√°o + x√£ Vƒ©nh Trung + x√£ An C∆∞</td></tr>
                        <tr><td>21</td><td>x√£ N√∫i C·∫•m</td><td>x√£ T√¢n L·∫≠p + x√£ An H·∫£o</td></tr>
                        <tr><td>22</td><td>x√£ Ba Ch√∫c</td><td>th·ªã tr·∫•n Ba Ch√∫c + x√£ L·∫°c Qu·ªõi + x√£ L√™ Tr√¨</td></tr>
                        <tr><td>23</td><td>x√£ Tri T√¥n</td><td>th·ªã tr·∫•n Tri T√¥n + x√£ N√∫i T√¥ + x√£ Ch√¢u LƒÉng</td></tr>
                        <tr><td>24</td><td>x√£ √î L√¢m</td><td>x√£ An T·ª©c + x√£ L∆∞∆°ng Phi + x√£ √î L√¢m</td></tr>
                        <tr><td>25</td><td>x√£ C√¥ T√¥</td><td>th·ªã tr·∫•n C√¥ T√¥ + x√£ T√† ƒê·∫£nh + x√£ T√¢n Tuy·∫øn</td></tr>
                        <tr><td>26</td><td>x√£ Vƒ©nh Gia</td><td>x√£ Vƒ©nh Gia + x√£ Vƒ©nh Ph∆∞·ªõc + x√£ L∆∞∆°ng An Tr√†</td></tr>
                        <tr><td>27</td><td>x√£ An Ch√¢u</td><td>th·ªã tr·∫•n An Ch√¢u + x√£ H√≤a B√¨nh Th·∫°nh + x√£ Vƒ©nh Th√†nh</td></tr>
                        <tr><td>28</td><td>x√£ B√¨nh H√≤a</td><td>x√£ B√¨nh Th·∫°nh + x√£ An H√≤a + x√£ B√¨nh H√≤a</td></tr>
                        <tr><td>29</td><td>x√£ C·∫ßn ƒêƒÉng</td><td>x√£ Vƒ©nh L·ª£i + x√£ C·∫ßn ƒêƒÉng</td></tr>
                        <tr><td>30</td><td>x√£ Vƒ©nh Hanh</td><td>x√£ Vƒ©nh Nhu·∫≠n + x√£ Vƒ©nh Hanh</td></tr>
                        <tr><td>31</td><td>x√£ Vƒ©nh An</td><td>th·ªã tr·∫•n Vƒ©nh B√¨nh + x√£ T√¢n Ph√∫ + x√£ Vƒ©nh An</td></tr>
                        <tr><td>32</td><td>x√£ Ch·ª£ M·ªõi</td><td>th·ªã tr·∫•n Ch·ª£ M·ªõi + x√£ Ki·∫øn An + x√£ Ki·∫øn Th√†nh</td></tr>
                        <tr><td>33</td><td>x√£ C√π Lao Gi√™ng</td><td>x√£ T·∫•n M·ªπ + x√£ M·ªπ Hi·ªáp + x√£ B√¨nh Ph∆∞·ªõc Xu√¢n</td></tr>
                        <tr><td>34</td><td>x√£ H·ªôi An</td><td>th·ªã tr·∫•n H·ªôi An + x√£ H√≤a B√¨nh + x√£ H√≤a An</td></tr>
                        <tr><td>35</td><td>x√£ Long ƒêi·ªÅn</td><td>th·ªã tr·∫•n M·ªπ Lu√¥ng + x√£ Long ƒêi·ªÅn A + x√£ Long ƒêi·ªÅn B</td></tr>
                        <tr><td>36</td><td>x√£ Nh∆°n M·ªπ</td><td>x√£ Nh∆°n M·ªπ + x√£ M·ªπ H·ªôi ƒê√¥ng + x√£ Long Giang</td></tr>
                        <tr><td>37</td><td>x√£ Long Ki·∫øn</td><td>x√£ Long Ki·∫øn + x√£ An Th·∫°nh Trung + x√£ M·ªπ An</td></tr>
                        <tr><td>38</td><td>x√£ Tho·∫°i S∆°n</td><td>th·ªã tr·∫•n N√∫i S·∫≠p + x√£ Tho·∫°i Giang + x√£ B√¨nh Th√†nh</td></tr>
                        <tr><td>39</td><td>x√£ √ìc Eo</td><td>th·ªã tr·∫•n √ìc Eo + x√£ V·ªçng Th√™ + x√£ V·ªçng ƒê√¥ng</td></tr>
                        <tr><td>40</td><td>x√£ ƒê·ªãnh M·ªπ</td><td>x√£ ƒê·ªãnh Th√†nh + x√£ ƒê·ªãnh M·ªπ + x√£ Vƒ©nh Ph√∫</td></tr>
                        <tr><td>41</td><td>x√£ Ph√∫ H√≤a</td><td>th·ªã tr·∫•n Ph√∫ H√≤a + x√£ Ph√∫ Thu·∫≠n + x√£ Vƒ©nh Ch√°nh</td></tr>
                        <tr><td>42</td><td>x√£ Vƒ©nh Tr·∫°ch</td><td>x√£ Vƒ©nh Kh√°nh + x√£ Vƒ©nh Tr·∫°ch</td></tr>
                        <tr><td>43</td><td>x√£ T√¢y Ph√∫</td><td>x√£ An B√¨nh + x√£ T√¢y Ph√∫ + x√£ M·ªπ Ph√∫ ƒê√¥ng</td></tr>
                        <tr><td>44</td><td>x√£ Vƒ©nh B√¨nh</td><td>x√£ Vƒ©nh B√¨nh B·∫Øc + x√£ Vƒ©nh B√¨nh Nam + x√£ B√¨nh Minh</td></tr>
                        <tr><td>45</td><td>x√£ Vƒ©nh Thu·∫≠n</td><td>x√£ Vƒ©nh Thu·∫≠n + x√£ T√¢n Thu·∫≠n</td></tr>
                        <tr><td>46</td><td>x√£ Vƒ©nh Phong</td><td>th·ªã tr·∫•n Vƒ©nh Thu·∫≠n + x√£ Vƒ©nh Phong + x√£ Phong ƒê√¥ng</td></tr>
                        <tr><td>47</td><td>x√£ Vƒ©nh H√≤a</td><td>x√£ Th·∫°nh Y√™n A + x√£ H√≤a Ch√°nh + x√£ Vƒ©nh H√≤a + x√£ Th·∫°nh Y√™n</td></tr>
                        <tr><td>48</td><td>x√£ U Minh Th∆∞·ª£ng</td><td>x√£ An Minh B·∫Øc + x√£ Minh Thu·∫≠n</td></tr>
                        <tr><td>49</td><td>x√£ ƒê√¥ng H√≤a</td><td>x√£ ƒê√¥ng H√≤a + x√£ ƒê√¥ng Th·∫°nh</td></tr>
                        <tr><td>50</td><td>x√£ T√¢n Th·∫°nh</td><td>x√£ T√¢n Th·∫°nh + x√£ Thu·∫≠n H√≤a</td></tr>
                        <tr><td>51</td><td>x√£ ƒê√¥ng H∆∞ng</td><td>x√£ ƒê√¥ng H∆∞ng A + x√£ V√¢n Kh√°nh ƒê√¥ng</td></tr>
                        <tr><td>52</td><td>x√£ An Minh</td><td>th·ªã tr·∫•n Th·ª© M∆∞·ªùi M·ªôt + x√£ ƒê√¥ng H∆∞ng + x√£ ƒê√¥ng H∆∞ng B</td></tr>
                        <tr><td>53</td><td>x√£ V√¢n Kh√°nh</td><td>x√£ V√¢n Kh√°nh + x√£ V√¢n Kh√°nh T√¢y</td></tr>
                        <tr><td>54</td><td>x√£ T√¢y Y√™n</td><td>x√£ T√¢y Y√™n + x√£ T√¢y Y√™n A + x√£ Nam Y√™n</td></tr>
                        <tr><td>55</td><td>x√£ ƒê√¥ng Th√°i</td><td>x√£ Nam Th√°i + x√£ ƒê√¥ng Th√°i + x√£ Nam Th√°i A</td></tr>
                        <tr><td>56</td><td>x√£ An Bi√™n</td><td>th·ªã tr·∫•n Th·ª© Ba + x√£ ƒê√¥ng Y√™n + x√£ H∆∞ng Y√™n</td></tr>
                        <tr><td>57</td><td>x√£ ƒê·ªãnh H√≤a</td><td>x√£ Th·ªõi Qu·∫£n + x√£ ƒê·ªãnh H√≤a + x√£ Th·ªßy Li·ªÖu</td></tr>
                        <tr><td>58</td><td>x√£ G√≤ Quao</td><td>th·ªã tr·∫•n G√≤ Quao + x√£ Vƒ©nh Ph∆∞·ªõc B + x√£ ƒê·ªãnh An</td></tr>
                        <tr><td>59</td><td>x√£ Vƒ©nh H√≤a H∆∞ng</td><td>x√£ Vƒ©nh H√≤a H∆∞ng B·∫Øc + x√£ Vƒ©nh H√≤a H∆∞ng Nam</td></tr>
                        <tr><td>60</td><td>x√£ Vƒ©nh Tuy</td><td>x√£ Vƒ©nh Th·∫Øng + x√£ Vƒ©nh Tuy + x√£ Vƒ©nh Ph∆∞·ªõc A</td></tr>
                        <tr><td>61</td><td>x√£ Gi·ªìng Ri·ªÅng</td><td>th·ªã tr·∫•n Gi·ªìng Ri·ªÅng + x√£ B√†n T√¢n ƒê·ªãnh + x√£ Th·∫°nh H√≤a + x√£ B√†n Th·∫°ch + x√£ Th·∫°nh B√¨nh</td></tr>
                        <tr><td>62</td><td>x√£ Th·∫°nh H∆∞ng</td><td>x√£ Th·∫°nh H∆∞ng + x√£ Th·∫°nh Ph∆∞·ªõc + x√£ Th·∫°nh L·ªôc</td></tr>
                        <tr><td>63</td><td>x√£ Long Th·∫°nh</td><td>x√£ Long Th·∫°nh + x√£ Vƒ©nh Ph√∫ + x√£ Vƒ©nh Th·∫°nh</td></tr>
                        <tr><td>64</td><td>x√£ H√≤a H∆∞ng</td><td>x√£ H√≤a L·ª£i + x√£ H√≤a H∆∞ng + x√£ H√≤a An</td></tr>
                        <tr><td>65</td><td>x√£ Ng·ªçc Ch√∫c</td><td>x√£ Ng·ªçc Ch√∫c + x√£ Ng·ªçc Thu·∫≠n + x√£ Ng·ªçc Th√†nh</td></tr>
                        <tr><td>67</td><td>x√£ T√¢n H·ªôi</td><td>x√£ T√¢n Th√†nh + x√£ T√¢n H·ªôi + x√£ T√¢n H√≤a + x√£ T√¢n An</td></tr>
                        <tr><td>68</td><td>x√£ T√¢n Hi·ªáp</td><td>th·ªã tr·∫•n T√¢n Hi·ªáp + x√£ T√¢n Hi·ªáp B + x√£ Th·∫°nh ƒê√¥ng B + x√£ Th·∫°nh ƒê√¥ng</td></tr>
                        <tr><td>69</td><td>x√£ Th·∫°nh ƒê√¥ng</td><td>x√£ T√¢n Hi·ªáp A + x√£ Th·∫°nh ƒê√¥ng A + x√£ Th·∫°nh Tr·ªã</td></tr>
                        <tr><td>70</td><td>x√£ Th·∫°nh L·ªôc</td><td>x√£ Th·∫°nh L·ªôc + x√£ Mong Th·ªç A + x√£ Mong Th·ªç + x√£ Mong Th·ªç B</td></tr>
                        <tr><td>71</td><td>x√£ Ch√¢u Th√†nh</td><td>th·ªã tr·∫•n Minh L∆∞∆°ng + x√£ Minh H√≤a + x√£ Gi·ª•c T∆∞·ª£ng</td></tr>
                        <tr><td>72</td><td>x√£ B√¨nh An</td><td>x√£ B√¨nh An + x√£ Vƒ©nh H√≤a Hi·ªáp + x√£ Vƒ©nh H√≤a Ph√∫</td></tr>
                        <tr><td>73</td><td>x√£ H√≤n ƒê·∫•t</td><td>th·ªã tr·∫•n H√≤n ƒê·∫•t + x√£ L√¨nh Hu·ª≥nh + x√£ Th·ªï S∆°n + x√£ Nam Th√°i S∆°n</td></tr>
                        <tr><td>74</td><td>x√£ S∆°n Ki√™n</td><td>x√£ S∆°n Ki√™n + x√£ S∆°n B√¨nh + x√£ M·ªπ Th√°i</td></tr>
                        <tr><td>76</td><td>x√£ H√≤a ƒêi·ªÅn</td><td>x√£ H√≤a ƒêi·ªÅn + x√£ Ki√™n B√¨nh</td></tr>
                        <tr><td>77</td><td>x√£ Ki√™n L∆∞∆°ng</td><td>th·ªã tr·∫•n Ki√™n L∆∞∆°ng + x√£ B√¨nh An + x√£ B√¨nh Tr·ªã</td></tr>
                        <tr><td>78</td><td>x√£ Giang Th√†nh</td><td>x√£ T√¢n Kh√°nh H√≤a + x√£ Ph√∫ L·ª£i + x√£ Ph√∫ M·ªπ</td></tr>
                        <tr><td>79</td><td>x√£ Vƒ©nh ƒêi·ªÅu</td><td>x√£ Vƒ©nh ƒêi·ªÅu + x√£ Vƒ©nh Ph√∫</td></tr>
                        <tr><td>80</td><td>ph∆∞·ªùng Long Xuy√™n</td><td>ph∆∞·ªùng M·ªπ B√¨nh + ph∆∞·ªùng M·ªπ Long + ph∆∞·ªüng M·ªπ Xuy√™n + ph∆∞·ªùng M·ªπ Ph∆∞·ªõc + ph∆∞·ªùng M·ªπ Qu√Ω + ph∆∞·ªùng M·ªπ H√≤a</td></tr>
                        <tr><td>81</td><td>ph∆∞·ªùng B√¨nh ƒê·ª©c</td><td>ph∆∞·ªùng B√¨nh ƒê·ª©c + ph∆∞·ªùng B√¨nh Kh√°nh + m·ªôt ph·∫ßn x√£ M·ªπ Kh√°nh</td></tr>
                        <tr><td>82</td><td>ph∆∞·ªùng M·ªπ Th·ªõi</td><td>ph∆∞·ªùng M·ªπ Th·∫°nh + ph∆∞·ªùng M·ªπ Th·ªõi</td></tr>
                        <tr><td>83</td><td>ph∆∞·ªùng Ch√¢u ƒê·ªëc</td><td>ph∆∞·ªùng Vƒ©nh Ngu∆°n + ph∆∞·ªùng Ch√¢u Ph√∫ A + ph∆∞·ªùng Ch√¢u Ph√∫ B + ph∆∞·ªùng Vƒ©nh M·ªπ v√† m·ªôt ph·∫ßn x√£ Vƒ©nh Ch√¢u</td></tr>
                        <tr><td>84</td><td>ph∆∞·ªùng Vƒ©nh T·∫ø</td><td>ph∆∞·ªùng N√∫i Sam + x√£ Vƒ©nh T·∫ø + m·ªôt ph·∫ßn x√£ Vƒ©nh Ch√¢u</td></tr>
                        <tr><td>85</td><td>ph∆∞·ªùng T√¢n Ch√¢u</td><td>ph∆∞·ªùng Long Th·∫°nh + ph∆∞·ªùng Long S∆°n</td></tr>
                        <tr><td>86</td><td>ph∆∞·ªùng Long Ph√∫</td><td>ph∆∞·ªùng Long H∆∞ng + ph∆∞·ªùng Long Ch√¢u + ph∆∞·ªùng Long Ph√∫</td></tr>
                        <tr><td>87</td><td>ph∆∞·ªùng T·ªãnh Bi√™n</td><td>ph∆∞·ªùng An Ph√∫ + ph∆∞·ªùng T·ªãnh Bi√™n + x√£ An N√¥ng</td></tr>
                        <tr><td>88</td><td>ph∆∞·ªùng Th·ªõi S∆°n</td><td>ph∆∞·ªùng Nh∆°n H∆∞ng + ph∆∞·ªùng Nh√† B√†ng + ph∆∞·ªùng Th·ªõi S∆°n</td></tr>
                        <tr><td>89</td><td>ph∆∞·ªùng Chi LƒÉng</td><td>ph∆∞·ªùng Chi LƒÉng + ph∆∞·ªùng N√∫i Voi + x√£ T√¢n L·ª£i</td></tr>
                        <tr><td>90</td><td>ph∆∞·ªùng Vƒ©nh Th√¥ng</td><td>ph∆∞·ªùng Vƒ©nh Th√¥ng + x√£ Phi Th√¥ng + x√£ M·ªπ L√¢m</td></tr>
                        <tr><td>91</td><td>ph∆∞·ªùng R·∫°ch Gi√°</td><td>ph∆∞·ªùng Vƒ©nh Quang + ph∆∞·ªùng Vƒ©nh Thanh + ph∆∞·ªùng Vƒ©nh Thanh V√¢n + ph∆∞·ªùng Vƒ©nh L·∫°c + ph∆∞·ªùng An H√≤a + ph∆∞·ªùng Vƒ©nh Hi·ªáp + ph∆∞·ªùng An B√¨nh + ph∆∞·ªùng R·∫°ch S·ªèi + ph∆∞·ªùng Vƒ©nh L·ª£i</td></tr>
                        <tr><td>92</td><td>ph∆∞·ªùng H√† Ti√™n</td><td>ph∆∞·ªùng Ph√°o ƒê√†i + ph∆∞·ªùng B√¨nh San + ph∆∞·ªùng M·ªπ ƒê·ª©c + ph∆∞·ªùng ƒê√¥ng H·ªì</td></tr>
                        <tr><td>93</td><td>ph∆∞·ªùng T√¥ Ch√¢u</td><td>ph∆∞·ªùng T√¥ Ch√¢u + x√£ Thu·∫≠n Y√™n + x√£ D∆∞∆°ng H√≤a</td></tr>
                        <tr><td>94</td><td>ƒë·∫∑c khu Ki√™n H·∫£i</td><td>x√£ An S∆°n + x√£ Nam Du + x√£ H√≤n Tre + x√£ L·∫°i S∆°n</td></tr>
                        <tr><td>95</td><td>ƒë·∫∑c khu Ph√∫ Qu·ªëc</td><td>ph∆∞·ªùng D∆∞∆°ng ƒê√¥ng + ph∆∞·ªùng An Th·ªõi + x√£ D∆∞∆°ng T∆° + x√£ H√†m Ninh + x√£ C·ª≠a D∆∞∆°ng + x√£ B√£i Th∆°m + x√£ G√†nh D·∫ßu + x√£ C·ª≠a C·∫°n</td></tr>
                        <tr><td>96</td><td>ƒë·∫∑c khu Th·ªï Ch√¢u</td><td>x√£ Th·ªï Ch√¢u</td></tr>
                    </tbody>
                </table>
            `,
            'bac ninh': `
                <div class="modal-summary">
                    <p><strong>T·ªïng s·ªë ƒêVHC c·∫•p x√£:</strong> 99 (g·ªìm 66 x√£, 33 ph∆∞·ªùng).</p>
                    <p><strong>Gi·ªØ nguy√™n kh√¥ng s·∫Øp x·∫øp (01 x√£):</strong> Tu·∫•n ƒê·∫°o.</p>
                </div>
                <table class="details-table">
                    <thead>
                        <tr>
                            <th style="width:5%">STT</th>
                            <th>ƒê∆°n v·ªã h√†nh ch√≠nh m·ªõi</th>
                            <th>S·∫Øp x·∫øp t·ª´ c√°c ƒêVHC c·∫•p x√£ c≈©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>x√£ Chi LƒÉng</td><td>x√£ Y√™n Gi·∫£ + x√£ Chi LƒÉng</td></tr>
                        <tr><td>2</td><td>x√£ Ph√π L√£ng</td><td>x√£ Ch√¢u Phong + x√£ ƒê·ª©c Long + x√£ Ph√π L√£ng</td></tr>
                        <tr><td>3</td><td>x√£ Y√™n Phong</td><td>th·ªã tr·∫•n Ch·ªù + x√£ Trung Nghƒ©a + x√£ Long Ch√¢u + x√£ ƒê√¥ng Ti·∫øn</td></tr>
                        <tr><td>4</td><td>x√£ VƒÉn M√¥n</td><td>x√£ Y√™n Ph·ª• + x√£ ƒê√¥ng Th·ªç + x√£ VƒÉn M√¥n</td></tr>
                        <tr><td>5</td><td>x√£ Tam Giang</td><td>x√£ H√≤a Ti·∫øn + x√£ Tam Giang</td></tr>
                        <tr><td>6</td><td>x√£ Y√™n Trung</td><td>x√£ D≈©ng Li·ªát + x√£ Y√™n Trung</td></tr>
                        <tr><td>7</td><td>x√£ Tam ƒêa</td><td>x√£ Th·ª•y H√≤a + x√£ ƒê√¥ng Phong + x√£ Tam ƒêa</td></tr>
                        <tr><td>8</td><td>x√£ Ti√™n Du</td><td>th·ªã tr·∫•n Lim + x√£ N·ªôi Du·ªá + x√£ Ph√∫ L√¢m</td></tr>
                        <tr><td>9</td><td>x√£ Li√™n B√£o</td><td>x√£ Hi√™n V√¢n + x√£ Vi·ªát ƒêo√†n + x√£ Li√™n B√£o</td></tr>
                        <tr><td>10</td><td>x√£ T√¢n Chi</td><td>x√£ L·∫°c V·ªá + x√£ T√¢n Chi</td></tr>
                        <tr><td>11</td><td>x√£ ƒê·∫°i ƒê·ªìng</td><td>x√£ Tri Ph∆∞∆°ng + x√£ Ho√†n S∆°n + x√£ ƒê·∫°i ƒê·ªìng</td></tr>
                        <tr><td>12</td><td>x√£ Ph·∫≠t T√≠ch</td><td>x√£ Minh ƒê·∫°o + x√£ C·∫£nh H∆∞ng + x√£ Ph·∫≠t T√≠ch</td></tr>
                        <tr><td>13</td><td>x√£ Gia B√¨nh</td><td>th·ªã tr·∫•n Gia B√¨nh + x√£ Xu√¢n Lai + x√£ Qu·ª≥nh Ph√∫ + x√£ ƒê·∫°i B√°i</td></tr>
                        <tr><td>14</td><td>x√£ Nh√¢n Th·∫Øng</td><td>th·ªã tr·∫•n Nh√¢n Th·∫Øng + x√£ Th√°i B·∫£o + x√£ B√¨nh D∆∞∆°ng</td></tr>
                        <tr><td>15</td><td>x√£ ƒê·∫°i Lai</td><td>x√£ Song Giang + x√£ ƒê·∫°i Lai</td></tr>
                        <tr><td>16</td><td>x√£ Cao ƒê·ª©c</td><td>x√£ V·∫°n Ninh + x√£ Cao ƒê·ª©c</td></tr>
                        <tr><td>17</td><td>x√£ ƒê√¥ng C·ª©u</td><td>x√£ Giang S∆°n + x√£ L√£ng Ng√¢m + x√£ ƒê√¥ng C·ª©u</td></tr>
                        <tr><td>18</td><td>x√£ L∆∞∆°ng T√†i</td><td>th·ªã tr·∫•n Th·ª©a + x√£ Ph√∫ H√≤a + x√£ T√¢n L√£ng</td></tr>
                        <tr><td>19</td><td>x√£ L√¢m Thao</td><td>x√£ B√¨nh ƒê·ªãnh + x√£ Qu·∫£ng Ph√∫ + x√£ L√¢m Thao</td></tr>
                        <tr><td>20</td><td>x√£ Trung Ch√≠nh</td><td>x√£ Ph√∫ L∆∞∆°ng + x√£ Quang Minh + x√£ Trung Ch√≠nh</td></tr>
                        <tr><td>21</td><td>x√£ Trung K√™nh</td><td>x√£ An Th·ªãnh + x√£ An T·∫≠p + x√£ Trung K√™nh</td></tr>
                        <tr><td>22</td><td>x√£ ƒê·∫°i S∆°n</td><td>x√£ Gi√°o Li√™m + x√£ Ph√∫c S∆°n + x√£ ƒê·∫°i S∆°n</td></tr>
                        <tr><td>23</td><td>x√£ S∆°n ƒê·ªông</td><td>th·ªã tr·∫•n An Ch√¢u + x√£ An B√° + x√£ Vƒ©nh An</td></tr>
                        <tr><td>24</td><td>x√£ T√¢y Y√™n T·ª≠</td><td>x√£ Thanh Lu·∫≠n + th·ªã tr·∫•n T√¢y Y√™n T·ª≠</td></tr>
                        <tr><td>25</td><td>x√£ D∆∞∆°ng H∆∞u</td><td>x√£ D∆∞∆°ng H∆∞u + x√£ Long S∆°n</td></tr>
                        <tr><td>26</td><td>x√£ Y√™n ƒê·ªãnh</td><td>x√£ Y√™n ƒê·ªãnh + x√£ C·∫©m ƒê√†n</td></tr>
                        <tr><td>27</td><td>x√£ An L·∫°c</td><td>x√£ An L·∫°c + x√£ L·ªá Vi·ªÖn</td></tr>
                        <tr><td>28</td><td>x√£ V√¢n S∆°n</td><td>x√£ H·ªØu S·∫£n + x√£ V√¢n S∆°n</td></tr>
                        <tr><td>29</td><td>x√£ Bi·ªÉn ƒê·ªông</td><td>th·ªã tr·∫•n Bi·ªÉn ƒê·ªông + x√£ Kim S∆°n + x√£ Ph√∫ Nhu·∫≠n</td></tr>
                        <tr><td>30</td><td>x√£ L·ª•c Ng·∫°n</td><td>th·ªã tr·∫•n Ph√¨ ƒêi·ªÅn + x√£ Gi√°p S∆°n + x√£ ƒê·ªìng C·ªëc + x√£ T√¢n Hoa + x√£ T√¢n Quang</td></tr>
                        <tr><td>31</td><td>x√£ ƒê√®o Gia</td><td>x√£ ƒê√®o Gia + x√£ T√¢n L·∫≠p</td></tr>
                        <tr><td>32</td><td>x√£ S∆°n H·∫£i</td><td>x√£ S∆°n H·∫£i + x√£ H·ªô ƒê√°p</td></tr>
                        <tr><td>33</td><td>x√£ T√¢n S∆°n</td><td>x√£ T√¢n S∆°n + x√£ C·∫•m S∆°n</td></tr>
                        <tr><td>34</td><td>x√£ Bi√™n S∆°n</td><td>x√£ Bi√™n S∆°n Phong V√¢n + Tr∆∞·ªùng b·∫Øn TB1</td></tr>
                        <tr><td>35</td><td>x√£ Sa L√Ω</td><td>x√£ Sa L√Ω + x√£ Phong Minh</td></tr>
                        <tr><td>36</td><td>x√£ Nam D∆∞∆°ng</td><td>x√£ Nam D∆∞∆°ng + x√£ T√¢n M·ªôc</td></tr>
                        <tr><td>37</td><td>x√£ Ki√™n Lao</td><td>x√£ Ki√™n Lao + x√£ Ki√™n Th√†nh</td></tr>
                        <tr><td>38</td><td>x√£ L·ª•c S∆°n</td><td>x√£ L·ª•c S∆°n + x√£ B√¨nh S∆°n</td></tr>
                        <tr><td>39</td><td>x√£ Tr∆∞·ªùng S∆°n</td><td>x√£ Tr∆∞·ªùng S∆°n + x√£ V√¥ Tranh</td></tr>
                        <tr><td>40</td><td>x√£ C·∫©m L√Ω</td><td>x√£ C·∫©m L√Ω + x√£ ƒêan H·ªôi</td></tr>
                        <tr><td>41</td><td>x√£ ƒê√¥ng Ph√∫</td><td>x√£ ƒê√¥ng Ph√∫ + x√£ ƒê√¥ng H∆∞ng</td></tr>
                        <tr><td>42</td><td>x√£ Nghƒ©a Ph∆∞∆°ng</td><td>x√£ Nghƒ©a Ph∆∞∆°ng + x√£ Tr∆∞·ªùng Giang + x√£ Huy·ªÅn S∆°n</td></tr>
                        <tr><td>43</td><td>x√£ L·ª•c Nam</td><td>x√£ C∆∞∆°ng S∆°n + x√£ Ti√™n Nha + x√£ Chu ƒêi·ªán + th·ªã tr·∫•n Ph∆∞∆°ng S∆°n + th·ªã tr·∫•n ƒê·ªìi Ng√¥</td></tr>
                        <tr><td>44</td><td>x√£ B·∫Øc L≈©ng</td><td>x√£ B·∫Øc L≈©ng + x√£ Y√™n S∆°n + x√£ Lan M·∫´u + x√£ Kh√°m L·∫°ng</td></tr>
                        <tr><td>45</td><td>x√£ B·∫£o ƒê√†i</td><td>xaÃÉ B·∫£o S∆°n + x√£ Thanh L√¢m + x√£ Tam D·ªã + x√£ B·∫£o ƒê√†i</td></tr>
                        <tr><td>46</td><td>x√£ L·∫°ng Giang</td><td>th·ªã tr·∫•n V√¥i + x√£ X∆∞∆°ng L√¢m + x√£ H∆∞∆°ng L·∫°c + x√£ T√¢n H∆∞ng</td></tr>
                        <tr><td>47</td><td>x√£ M·ªπ Th√°i</td><td>x√£ M·ªπ Th√°i + x√£ Xu√¢n H∆∞∆°ng + x√£ D∆∞∆°ng ƒê·ª©c + x√£ T√¢n Thanh</td></tr>
                        <tr><td>48</td><td>x√£ K√©p</td><td>th·ªã tr·∫•n K√©p + x√£ Quang Th·ªãnh + x√£ H∆∞∆°ng S∆°n</td></tr>
                        <tr><td>49</td><td>x√£ T√¢n Dƒ©nh</td><td>x√£ T√¢n Dƒ©nh + x√£ Th√°i ƒê√†o + x√£ ƒê·∫°i L√¢m</td></tr>
                        <tr><td>50</td><td>x√£ Ti√™n L·ª•c</td><td>x√£ ƒê√†o M·ªπ + x√£ Nghƒ©a H√≤a + x√£ An H√† + x√£ Nghƒ©a H∆∞ng + x√£ Ti√™n L·ª•c</td></tr>
                        <tr><td>51</td><td>x√£ Y√™n Th·∫ø</td><td>th·ªã tr·∫•n Ph·ªìn X∆∞∆°ng + x√£ ƒê·ªìng L·∫°c + x√£ ƒê·ªìng T√¢m + x√£ T√¢n Hi·ªáp + x√£ T√¢n S·ªèi</td></tr>
                        <tr><td>52</td><td>x√£ B·ªë H·∫°</td><td>th·ªã tr·∫•n B·ªë H·∫° + x√£ ƒê√¥ng S∆°n + x√£ H∆∞∆°ng Vƒ©</td></tr>
                        <tr><td>53</td><td>x√£ ƒê·ªìng K·ª≥</td><td>x√£ ƒê·ªìng K·ª≥ + x√£ ƒê·ªìng H∆∞u + x√£ ƒê·ªìng V∆∞∆°ng</td></tr>
                        <tr><td>54</td><td>x√£ Xu√¢n L∆∞∆°ng</td><td>x√£ Canh N·∫≠u + x√£ ƒê·ªìng Ti·∫øn + x√£ Xu√¢n L∆∞∆°ng</td></tr>
                        <tr><td>55</td><td>x√£ Tam Ti·∫øn</td><td>x√£ Ti·∫øn Th·∫Øng + x√£ An Th∆∞·ª£ng + x√£ Tam Ti·∫øn</td></tr>
                        <tr><td>56</td><td>x√£ T√¢n Y√™n</td><td>th·ªã tr·∫•n Cao Th∆∞·ª£ng + x√£ Cao X√° + x√£ Vi·ªát L·∫≠p + x√£ Ng·ªçc L√Ω</td></tr>
                        <tr><td>57</td><td>x√£ Ng·ªçc Thi·ªán</td><td>x√£ Song V√¢n + x√£ Ng·ªçc Ch√¢u + x√£ Ng·ªçc V√¢n + x√£ Vi·ªát Ng·ªçc + x√£ Ng·ªçc Thi·ªán</td></tr>
                        <tr><td>58</td><td>x√£ Nh√£ Nam</td><td>th·ªã tr·∫•n Nh√£ Nam + x√£ T√¢n Trung + x√£ Li√™n S∆°n + x√£ An D∆∞∆°ng</td></tr>
                        <tr><td>59</td><td>x√£ Ph√∫c Ho√†</td><td>x√£ H·ª£p ƒê·ª©c + x√£ Li√™n Chung + x√£ Ph√∫c H√≤a</td></tr>
                        <tr><td>60</td><td>x√£ Quang Trung</td><td>x√£ Quang Trung + x√£ Lam S∆°n</td></tr>
                        <tr><td>61</td><td>x√£ H·ª£p Th·ªãnh</td><td>x√£ Th∆∞·ªùng Th·∫Øng + x√£ Mai Trung + x√£ H√πng Th√°i + x√£ S∆°n Th·ªãnh + x√£ H·ª£p Th·ªãnh</td></tr>
                        <tr><td>62</td><td>x√£ Hi·ªáp H√≤a</td><td>x√£ ƒê√¥ng L·ªó + x√£ ƒêoan B√°i + x√£ Danh Th·∫Øng + x√£ L∆∞∆°ng Phong + th·ªã tr·∫•n Th·∫Øng</td></tr>
                        <tr><td>63</td><td>x√£ Ho√†ng V√¢n</td><td>x√£ Ho√†ng V√¢n + x√£ ƒê·ªìng Ti·∫øn + x√£ To√†n Th·∫Øng + x√£ Ng·ªçc S∆°n</td></tr>
                        <tr><td>64</td><td>x√£ ƒê·ªìng Vi·ªát</td><td>x√£ ƒê·ªìng Vi·ªát + x√£ ƒê·ª©c Giang + x√£ ƒê·ªìng Ph√∫c</td></tr>
                        <tr><td>65</td><td>x√£ Xu√¢n C·∫©m</td><td>th·ªã tr·∫•n B·∫Øc L√Ω + x√£ H∆∞∆°ng L√¢m + x√£ Mai ƒê√¨nh + x√£ Ch√¢u Minh + x√£ Xu√¢n C·∫©m</td></tr>
                        <tr><td>66</td><td>ph∆∞·ªùng Kinh B·∫Øc</td><td>ph∆∞·ªùng Su·ªëi Hoa + ph∆∞·ªùng Ti·ªÅn Ninh V·ªá + ph∆∞·ªùng V·∫°n An + ph∆∞·ªùng H√≤a Long + ph∆∞·ªùng Kh√∫c Xuy√™n + ph∆∞·ªùng Kinh B·∫Øc</td></tr>
                        <tr><td>67</td><td>ph∆∞·ªùng V√µ C∆∞·ªùng</td><td>ph∆∞·ªùng ƒê·∫°i Ph√∫c + ph∆∞·ªùng Phong Kh√™ + ph∆∞·ªùng V√µ C∆∞·ªùng</td></tr>
                        <tr><td>68</td><td>ph∆∞·ªùng V≈© Ninh</td><td>ph∆∞·ªùng Kim Ch√¢n + ph∆∞·ªùng ƒê√°p C·∫ßu + ph∆∞·ªùng Th·ªã C·∫ßu + ph∆∞·ªùng V≈© Ninh</td></tr>
                        <tr><td>69</td><td>ph∆∞·ªùng H·∫°p Lƒ©nh</td><td>ph∆∞·ªùng Kh·∫Øc Ni·ªám + ph∆∞·ªùng H·∫°p Lƒ©nh</td></tr>
                        <tr><td>70</td><td>ph∆∞·ªùng Nam S∆°n</td><td>ph∆∞·ªùng V√¢n D∆∞∆°ng + ph∆∞·ªùng Nam S∆°n</td></tr>
                        <tr><td>71</td><td>ph∆∞·ªùng T·ª´ S∆°n</td><td>ph∆∞·ªùng ƒê√¥ng Ng√†n + ph∆∞·ªùng T√¢n H·ªìng + ph∆∞·ªùng Ph√π Ch·∫©n + ph∆∞·ªùng ƒê√¨nh B·∫£ng</td></tr>
                        <tr><td>72</td><td>ph∆∞·ªùng Tam S∆°n</td><td>ph∆∞·ªùng T∆∞∆°ng Giang + ph∆∞·ªùng Tam S∆°n</td></tr>
                        <tr><td>73</td><td>ph∆∞·ªùng ƒê·ªìng Nguy√™n</td><td>ph∆∞·ªùng Trang H·∫° + ph∆∞·ªùng ƒê·ªìng K·ªµ + ph∆∞·ªùng ƒê·ªìng Nguy√™n</td></tr>
                        <tr><td>74</td><td>ph∆∞·ªùng Ph√π Kh√™</td><td>ph∆∞·ªùng Ch√¢u Kh√™ + ph∆∞·ªùng H∆∞∆°ng M·∫°c + ph∆∞·ªùng Ph√π Kh√™</td></tr>
                        <tr><td>75</td><td>ph∆∞·ªùng Thu·∫≠n Th√†nh</td><td>ph∆∞·ªùng H·ªì + ph∆∞·ªùng Song H·ªì + ph∆∞·ªùng Gia ƒê√¥ng + x√£ ƒê·∫°i ƒê·ªìng Th√†nh</td></tr>
                        <tr><td>76</td><td>ph∆∞·ªùng M√£o ƒêi·ªÅn</td><td>ph∆∞·ªùng An B√¨nh + xaÃÉ Ho√†i Th∆∞·ª£ng + x√£ M√£o ƒêi·ªÅn</td></tr>
                        <tr><td>77</td><td>ph∆∞·ªùng Tr·∫°m L·ªô</td><td>x√£ Nghƒ©a ƒê·∫°o + ph∆∞·ªùng Tr·∫°m L·ªô</td></tr>
                        <tr><td>78</td><td>ph∆∞·ªùng Tr√≠ Qu·∫£</td><td>ph∆∞·ªùng Thanh Kh∆∞∆°ng + ph∆∞·ªùng Tr√≠ Qu·∫£ + x√£ ƒê√¨nh T·ªï</td></tr>
                        <tr><td>79</td><td>ph∆∞·ªùng Song Li·ªÖu</td><td>ph∆∞·ªùng Xu√¢n L√¢m + ph∆∞∆°ÃÄng H√† M√£n + x√£ Ng≈© Th√°i + x√£ Song Li·ªÖu</td></tr>
                        <tr><td>80</td><td>ph∆∞·ªùng Ninh X√°</td><td>x√£ Nguy·ªát ƒê·ª©c + ph∆∞·ªùng Ninh X√°</td></tr>
                        <tr><td>81</td><td>ph∆∞·ªùng Qu·∫ø V√µ</td><td>ph∆∞·ªùng Ph·ªë M·ªõi + ph∆∞·ªùng B·∫±ng An + ph∆∞·ªùng Vi·ªát H√πng + ph∆∞·ªùng Qu·∫ø T√¢n</td></tr>
                        <tr><td>82</td><td>ph∆∞·ªùng Ph∆∞∆°ng Li·ªÖu</td><td>ph∆∞·ªùng Ph∆∞·ª£ng Mao + ph∆∞·ªùng Ph∆∞∆°ng Li·ªÖu</td></tr>
                        <tr><td>83</td><td>ph∆∞·ªùng Nh√¢n H√≤a</td><td>ph∆∞·ªùng ƒê·∫°i Xu√¢n + ph∆∞·ªùng Nh√¢n H√≤a + x√£ Vi·ªát Th·ªëng</td></tr>
                        <tr><td>84</td><td>ph∆∞·ªùng ƒê√†o Vi√™n</td><td>ph∆∞·ªùng Ph√π L∆∞∆°ng + x√£ Ng·ªçc X√° + x√£ ƒê√†o Vi√™n</td></tr>
                        <tr><td>85</td><td>ph∆∞·ªùng B·ªìng Lai</td><td>ph∆∞·ªùng C√°ch Bi + ph∆∞·ªùng B·ªìng Lai + x√£ M·ªô ƒê·∫°o</td></tr>
                        <tr><td>86</td><td>ph∆∞·ªùng Ch≈©</td><td>ph∆∞·ªùng Ch≈© + ph∆∞·ªùng Thanh H·∫£i + ph∆∞·ªùng H·ªìng Giang + ph∆∞·ªùng Tr√π</td></tr>
                        <tr><td>87</td><td>ph∆∞·ªùng Ph∆∞·ª£ng S∆°n</td><td>ph∆∞·ªùng Ph∆∞·ª£ng S∆°n + x√£ Qu√Ω S∆°n + x√£ M·ªπ An</td></tr>
                        <tr><td>88</td><td>ph∆∞·ªùng T·ª± L·∫°n</td><td>ph∆∞·ªùng T·ª± L·∫°n + x√£ Vi·ªát Ti·∫øn + x√£ Th∆∞·ª£ng Lan + x√£ H∆∞∆°ng Mai</td></tr>
                        <tr><td>89</td><td>ph∆∞·ªùng Vi·ªát Y√™n</td><td>ph∆∞·ªùng B√≠ch ƒê·ªông + ph∆∞·ªùng H·ªìng Th√°i + x√£ Minh ƒê·ª©c + x√£ Nghƒ©a Trung</td></tr>
                        <tr><td>90</td><td>ph∆∞·ªùng N·∫ønh</td><td>ph∆∞·ªùng Quang Ch√¢u + ph∆∞·ªùng N·∫ønh + ph∆∞·ªùng V√¢n Trung + ph∆∞·ªùng TƒÉng Ti·∫øn</td></tr>
                        <tr><td>91</td><td>ph∆∞·ªùng V√¢n H√†</td><td>x√£ V√¢n H√† + x√£ Ti√™n S∆°n + x√£ Trung S∆°n + ph∆∞·ªùng Ninh S∆°n + ph∆∞·ªùng Qu·∫£ng Minh</td></tr>
                        <tr><td>92</td><td>ph∆∞·ªùng B·∫Øc Giang</td><td>ph∆∞·ªùng Th·ªç X∆∞∆°ng + ph∆∞·ªùng Ng√¥ Quy·ªÅn + ph∆∞·ªùng X∆∞∆°ng Giang + ph∆∞·ªùng Ho√†ng VƒÉn Th·ª• + ph∆∞·ªùng Tr·∫ßn Ph√∫ + ph∆∞·ªùng Dƒ©nh K·∫ø + ph∆∞·ªùng Dƒ©nh Tr√¨</td></tr>
                        <tr><td>93</td><td>ph∆∞·ªùng ƒêa Mai</td><td>ph∆∞·ªùng T√¢n M·ªπ + ph∆∞·ªùng M·ªπ ƒê·ªô + ph∆∞·ªùng Song Mai + ph∆∞·ªùng ƒêa Mai + x√£ Qu·∫ø Nham</td></tr>
                        <tr><td>94</td><td>ph∆∞·ªùng Ti·ªÅn Phong</td><td>ph∆∞·ªùng N·ªôi Ho√†ng + ph∆∞·ªùng Ti·ªÅn Phong + ph∆∞·ªùng Song Kh√™ + ph∆∞·ªùng ƒê·ªìng S∆°n</td></tr>
                        <tr><td>95</td><td>ph∆∞·ªùng T√¢n An</td><td>ph∆∞·ªùng T√¢n An + x√£ Qu·ª≥nh S∆°n + x√£ Tr√≠ Y√™n + x√£ L√£ng S∆°n</td></tr>
                        <tr><td>96</td><td>ph∆∞·ªùng Y√™n D≈©ng</td><td>x√£ Y√™n L∆∞ + ph∆∞·ªùng T√¢n Li·ªÖu + ph∆∞·ªùng Nham Bi·ªÅn</td></tr>
                        <tr><td>97</td><td>ph∆∞·ªùng T√¢n Ti·∫øn</td><td>ph∆∞·ªùng H∆∞∆°ng + ph∆∞·ªùng T√¢n Ti·∫øn + x√£ Xu√¢n Ph√∫</td></tr>
                        <tr><td>98</td><td>ph∆∞·ªùng C·∫£nh Th·ª•y</td><td>ph∆∞·ªùng C·∫£nh Th·ª•y + x√£ Ti·∫øn D≈©ng + x√£ T∆∞ M·∫°i</td></tr>
                    </tbody>
                </table>
            `,
            'ca mau': `
                <div class="modal-summary">
                    <p><strong>T·ªïng s·ªë ƒêVHC c·∫•p x√£:</strong> 64 (g·ªìm 55 x√£, 09 ph∆∞·ªùng).</p>
                    <p><strong>Gi·ªØ nguy√™n kh√¥ng s·∫Øp x·∫øp (01 x√£):</strong> H·ªì Th·ªã K·ª∑.</p>
                </div>
                <table class="details-table">
                    <thead>
                        <tr>
                            <th style="width:5%">STT</th>
                            <th>ƒê∆°n v·ªã h√†nh ch√≠nh m·ªõi</th>
                            <th>S·∫Øp x·∫øp t·ª´ c√°c ƒêVHC c·∫•p x√£ c≈©</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>1</td><td>xaÃÉ T√¢n Thu√¢Ã£n</td><td>x√£ T√¢n ƒê·ª©c + x√£ T√¢n Thu·∫≠n</td></tr>
                        <tr><td>2</td><td>xaÃÉ T√¢n Ti√™ÃÅn</td><td>x√£ Nguy·ªÖn Hu√¢n + x√£ T√¢n Ti·∫øn</td></tr>
                        <tr><td>3</td><td>xaÃÉ TaÃ£ An Kh∆∞∆°ng</td><td>x√£ T·∫° An Kh∆∞∆°ng ƒê√¥ng + x√£ T·∫° An Kh∆∞∆°ng Nam + m·ªôt ph·∫ßn x√£ T·∫° An Kh∆∞∆°ng</td></tr>
                        <tr><td>4</td><td>xaÃÉ Tr√¢ÃÄn PhaÃÅn</td><td>x√£ T√¢n Trung + x√£ Tr·∫ßn Ph√°n</td></tr>
                        <tr><td>5</td><td>xaÃÉ Thanh TuÃÄng</td><td>x√£ Ng·ªçc Ch√°nh + x√£ Thanh T√πng</td></tr>
                        <tr><td>6</td><td>xaÃÉ ƒê√¢ÃÄm D∆°i</td><td>th·ªã tr·∫•n ƒê·∫ßm D∆°i + x√£ T√¢n Duy·ªát + x√£ T√¢n D√¢n + m·ªôt ph·∫ßn x√£ T·∫° An Kh∆∞∆°ng</td></tr>
                        <tr><td>7</td><td>xaÃÉ QuaÃÅch Ph√¢Ãâm</td><td>x√£ Qu√°ch Ph·∫©m B·∫Øc + x√£ Qu√°ch Ph·∫©m</td></tr>
                        <tr><td>8</td><td>xaÃÉ U Minh</td><td>x√£ Kh√°nh Ti·∫øn + x√£ Kh√°nh H√≤a + m·ªôt ph·∫ßn: x√£ Kh√°nh Thu·∫≠n, x√£ Kh√°nh L√¢m</td></tr>
                        <tr><td>9</td><td>xaÃÉ Nguy√™ÃÉn PhiÃÅch</td><td>th·ªã tr·∫•n U Minh + m·ªôt ph·∫ßn: x√£ Kh√°nh Thu·∫≠n, x√£ Nguy·ªÖn Ph√≠ch</td></tr>
                        <tr><td>10</td><td>xaÃÉ KhaÃÅnh L√¢m</td><td>x√£ Kh√°nh H·ªôi + m·ªôt ph·∫ßn: x√£ Nguy·ªÖn Ph√≠ch, x√£ Kh√°nh L√¢m</td></tr>
                        <tr><td>11</td><td>xaÃÉ KhaÃÅnh An</td><td>x√£ Kh√°nh An + m·ªôt ph·∫ßn x√£ Nguy·ªÖn Ph√≠ch</td></tr>
                        <tr><td>12</td><td>xaÃÉ Phan NgoÃ£c Hi√™Ãân</td><td>th·ªã tr·∫•n R·∫°ch G·ªëc + x√£ Vi√™n An ƒê√¥ng + m·ªôt ph·∫ßn x√£ T√¢n √Çn</td></tr>
                        <tr><td>13</td><td>xaÃÉ ƒê√¢ÃÅt MuÃÉi</td><td>x√£ ƒê·∫•t M≈©i + m·ªôt ph·∫ßn: x√£ Vi√™n An, x√£ T√¢n √Çn (bao g·ªìm c·ª•m ƒë·∫£o H√≤n Khoai)</td></tr>
                        <tr><td>14</td><td>xaÃÉ T√¢n √Çn</td><td>x√£ Tam Giang T√¢y + x√£ T√¢n √Çn T√¢y</td></tr>
                        <tr><td>15</td><td>xaÃÉ KhaÃÅnh BiÃÄnh</td><td>x√£ Kh√°nh B√¨nh ƒê√¥ng + x√£ Kh√°nh B√¨nh</td></tr>
                        <tr><td>16</td><td>xaÃÉ ƒêaÃÅ BaÃ£c</td><td>x√£ Kh√°nh B√¨nh T√¢y (bao g·ªìm H√≤n ƒê√° B·∫°c) + x√£ Kh√°nh B√¨nh T√¢y B·∫Øc + m·ªôt ph·∫ßn x√£ Tr·∫ßn H·ª£i</td></tr>
                    </tbody>
                </table>
            `,
        };

        // L·∫•y c√°c element t·ª´ DOM
        const provinceInput = document.getElementById('provinceInput');
        const searchButton = document.getElementById('searchButton');
        const resultsContainer = document.getElementById('resultsContainer');
        const messageDiv = document.getElementById('message');
        const resultTenTinh = document.getElementById('resultTenTinh');
        const resultThongTinChung = document.getElementById('resultThongTinChung');
        const resultTrungTamHC = document.getElementById('resultTrungTamHC');
        const resultLanhDaoTinh = document.getElementById('resultLanhDaoTinh');
        const resultLanhDaoSo = document.getElementById('resultLanhDaoSo');
        const resultDauMoi = document.getElementById('resultDauMoi');
        const resultGhiChu = document.getElementById('resultGhiChu');
        const infoChungItem = document.getElementById('infoChungItem');
        const trungTamHCItem = document.getElementById('trungTamHCItem');
        const lanhDaoTinhItem = document.getElementById('lanhDaoTinhItem');
        const ghiChuItem = document.getElementById('ghiChuItem');
        const micButton = document.getElementById('micButton');
        
        // L·∫•y c√°c element c·ªßa Modal
        const modal = document.getElementById('detailsModal');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const closeModalButton = document.getElementById('closeModalButton');


        let provinceData = [];

        function setUIState(isLoading, message = '', isError = false) {
            provinceInput.disabled = isLoading;
            searchButton.disabled = isLoading;
            if (message) {
                messageDiv.textContent = message;
                messageDiv.className = isError ? 'error-message' : 'info-message';
                messageDiv.classList.remove('hidden');
            }
        }

        async function loadProvinceData() {
            setUIState(true, 'ƒêang t·∫£i d·ªØ li·ªáu t·ª´ m√°y ch·ªß, vui l√≤ng ƒë·ª£i...');
            try {
                const querySnapshot = await getDocs(collection(db, "provinces"));
                provinceData = querySnapshot.docs.map(doc => {
                    const data = doc.data();
                    // Th√™m m·ªôt key ƒë√£ chu·∫©n h√≥a ƒë·ªÉ d·ªÖ d√†ng tra c·ª©u chi ti·∫øt
                    data.normalizedKey = normalizeText(data.tenTinh);
                    return data;
                });

                console.log("ƒê√£ t·∫£i th√†nh c√¥ng d·ªØ li·ªáu t·ª´ Firebase. S·ªë l∆∞·ª£ng:", provinceData.length);

                if (provinceData.length === 0) {
                    setUIState(true, 'Kh√¥ng c√≥ d·ªØ li·ªáu n√†o tr√™n m√°y ch·ªß.', true);
                } else {
                    setUIState(false, 'Vui l√≤ng nh·∫≠p t√™n t·ªânh/th√†nh ph·ªë v√† nh·∫•n "Tra c·ª©u".');
                }
            } catch (error) {
                console.error("L·ªói khi t·∫£i d·ªØ li·ªáu t·ª´ Firestore: ", error);
                setUIState(true, 'L·ªói k·∫øt n·ªëi t·ªõi m√°y ch·ªß. Vui l√≤ng ki·ªÉm tra Security Rules v√† k·∫øt n·ªëi m·∫°ng.', true);
            }
        }

        function normalizeText(str) {
            if (!str) return '';
            // Chu·∫©n h√≥a, b·ªè d·∫•u, chuy·ªÉn th√†nh ch·ªØ th∆∞·ªùng v√† lo·∫°i b·ªè c√°c ti·ªÅn t·ªë
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "").replace(/ƒë/g, "d").replace(/ƒê/g, "D").toLowerCase().replace(/tinh |thanh pho |tp /g, "").trim();
        }

        function formatMultiLine(text, icon) {
            if (!text || !text.trim()) {
                return '<p class="no-info">Ch∆∞a c√≥ th√¥ng tin</p>';
            }
            var defaultIcon = 'üë§';
            var finalIcon = icon || defaultIcon;
            var lines = text.split('\n');
            var htmlResult = '';
            for (var i = 0; i < lines.length; i++) {
                var line = lines[i].trim();
                if (line === '') continue;
                var phoneMatch = line.match(/(\d[\d\s\.\(\)]{8,}\d)/);
                var infoPart = line;
                var phonePart = null;
                if (phoneMatch) {
                    phonePart = phoneMatch[0].trim();
                    infoPart = line.replace(phonePart, '').replace(/[,;-]$/, '').trim();
                }
                htmlResult += '<div class="contact-entry">';
                htmlResult += '<p>' + finalIcon + ' ' + infoPart + '</p>';
                if (phonePart) {
                    var telLink = phonePart.replace(/[\s\.\(\)]/g, '');
                    htmlResult += '<p>üìû SƒêT: <a href="tel:' + telLink + '">' + phonePart + '</a></p>';
                }
                htmlResult += '</div>';
            }
            return htmlResult;
        }

        function formatLanhDaoTinh(text) {
            if (!text || !text.trim()) {
                return '<p class="no-info">Ch∆∞a c√≥ th√¥ng tin</p>';
            }
            var leaderBlocks = text.split('\n\n');
            var htmlResult = '';
            for (var i = 0; i < leaderBlocks.length; i++) {
                var block = leaderBlocks[i].trim();
                if (block === '') continue;
                var parts = block.split('\n');
                var name = parts[0] ? parts[0].trim() : '';
                var title = parts[1] ? parts[1].trim() : '';
                if (name && title) {
                    htmlResult += '<div class="contact-entry"><p>üë§ ' + name + ' - ' + title + '</p></div>';
                }
            }
            return htmlResult || '<p class="no-info">Ch∆∞a c√≥ th√¥ng tin</p>';
        }

        function formatLanhDaoSo(data, chucvu) {
            if (!data || !data.trim()) {
                return '<p class="no-info">Ch∆∞a c√≥ th√¥ng tin</p>';
            }
            var lines = data.split('\n');
            var name = lines[0] ? lines[0].trim() : '';
            var year = lines[1] ? lines[1].trim() : '';
            var phone = lines[2] ? lines[2].trim() : '';
            var htmlResult = '<div class="contact-entry">';
            if (name) htmlResult += '<p>üë§ ' + name + '</p>';
            if (year) htmlResult += '<p>üìÖ NƒÉm sinh: ' + year + '</p>';
            if (phone) {
                var telLink = phone.replace(/[\s\.\(\)]/g, '');
                htmlResult += '<p>üìû SƒêT: <a href="tel:' + telLink + '">' + phone + '</a></p>';
            }
            if (chucvu) htmlResult += '<p>üíº Ch·ª©c v·ª•: ' + chucvu + '</p>';
            htmlResult += '</div>';
            return htmlResult;
        }
        
        function formatThongTinChung(text) {
            if (!text || !text.trim()) return '';
            var lines = text.split('\n');
            var htmlResult = '';
            for (var i = 0; i < lines.length; i++) {
                var line = lines[i].trim();
                // B·ªè qua d√≤ng "Xem chi ti·∫øt" ƒë·ªÉ n√≥ kh√¥ng hi·ªÉn th·ªã d∆∞·ªõi d·∫°ng vƒÉn b·∫£n th∆∞·ªùng
                if (line.toLowerCase().includes('xem chi ti·∫øt')) {
                    continue; 
                }
                
                if (line.startsWith('(') && line.endsWith(')')) {
                    htmlResult += '<strong>' + line + '</strong><br>';
                } else if (i === 0) {
                    htmlResult += '<strong>' + line + '</strong><br>';
                } else {
                    htmlResult += line + '<br>';
                }
            }
            return htmlResult;
        }

        // === C√ÅC H√ÄM X·ª¨ L√ù POP-UP (MODAL) ===
        function openModal(provinceKey, provinceName) {
            const detailsHTML = provinceDetails[provinceKey] || '<p class="no-info">Hi·ªán ch∆∞a c√≥ th√¥ng tin chi ti·∫øt cho t·ªânh/th√†nh ph·ªë n√†y.</p>';
            modalTitle.textContent = `Chi ti·∫øt ƒêVHC - ${provinceName}`;
            modalBody.innerHTML = detailsHTML;
            modal.style.display = 'block';
        }

        function closeModal() {
            modal.style.display = 'none';
        }

        // G√°n s·ª± ki·ªán cho n√∫t ƒë√≥ng v√† n·ªÅn
        closeModalButton.onclick = closeModal;
        window.onclick = function(event) {
            if (event.target == modal) {
                closeModal();
            }
        }
        
        // S·ª≠ d·ª•ng event delegation ƒë·ªÉ b·∫Øt s·ª± ki·ªán click tr√™n link "Xem chi ti·∫øt"
        resultsContainer.addEventListener('click', function(event) {
            if (event.target.classList.contains('details-link')) {
                event.preventDefault(); 
                const provinceKey = event.target.dataset.province;
                const provinceName = resultTenTinh.textContent;
                openModal(provinceKey, provinceName);
            }
        });


        function performSearch() {
            try {
                var query = normalizeText(provinceInput.value);
                if (!query) {
                    resultsContainer.classList.add('hidden');
                    setUIState(false, 'Vui l√≤ng nh·∫≠p t√™n t·ªânh/th√†nh ph·ªë v√† nh·∫•n "Tra c·ª©u".');
                    return;
                }

                var found = null;
                for (var i = 0; i < provinceData.length; i++) {
                    var province = provinceData[i];
                    var normalizedTenThayThe = normalizeText(province.tenThayThe);
                    if (province.normalizedKey.indexOf(query) !== -1 || (normalizedTenThayThe && normalizedTenThayThe.indexOf(query) !== -1)) {
                        found = province;
                        break;
                    }
                }

                if (found) {
                    messageDiv.classList.add('hidden');
                    var tenHienThi = found.tenTinh;
                    if (tenHienThi.toLowerCase().indexOf('th√†nh ph·ªë') === -1) {
                        tenHienThi = 'T·ªânh ' + tenHienThi;
                    }
                    resultTenTinh.textContent = tenHienThi;
                    
                    // X·ª≠ l√Ω m·ª•c "Th√¥ng tin chung" v√† th√™m link "Xem chi ti·∫øt" n·∫øu c√≥
                    let thongTinChungHTML = formatThongTinChung(found.thongTinChung);
                    // *** ƒê√É S·ª¨A L·ªñI: Ki·ªÉm tra s·ª± t·ªìn t·∫°i c·ªßa key chi ti·∫øt ƒë·ªÉ quy·∫øt ƒë·ªãnh c√≥ hi·ªÉn th·ªã link kh√¥ng
                    if (provinceDetails[found.normalizedKey]) {
                        thongTinChungHTML += `<br><a href="#" class="details-link" data-province="${found.normalizedKey}">üîó Xem chi ti·∫øt ƒë∆°n v·ªã h√†nh ch√≠nh...</a>`;
                    }
                    resultThongTinChung.innerHTML = thongTinChungHTML;

                    resultTrungTamHC.innerHTML = found.trungTamHanhChinh ? found.trungTamHanhChinh : '<p class="no-info">Ch∆∞a c√≥ th√¥ng tin</p>';
                    resultLanhDaoTinh.innerHTML = formatLanhDaoTinh(found.lanhDaoTinh);
                    resultLanhDaoSo.innerHTML = formatLanhDaoSo(found.lanhDaoSo, found.chucVu);
                    resultDauMoi.innerHTML = formatMultiLine(found.dauMoi, 'üìß');
                    resultGhiChu.innerHTML = found.ghiChu ? found.ghiChu : '<p class="no-info">Kh√¥ng c√≥ ghi ch√∫</p>';

                    if (found.thongTinChung) { infoChungItem.classList.remove('hidden'); } else { infoChungItem.classList.add('hidden'); }
                    if (found.trungTamHanhChinh) { trungTamHCItem.classList.remove('hidden'); } else { trungTamHCItem.classList.add('hidden'); }
                    if (found.lanhDaoTinh) { lanhDaoTinhItem.classList.remove('hidden'); } else { lanhDaoTinhItem.classList.add('hidden'); }
                    if (found.ghiChu) { ghiChuItem.classList.remove('hidden'); } else { ghiChuItem.classList.add('hidden'); }
                    resultsContainer.classList.remove('hidden');
                } else {
                    resultsContainer.classList.add('hidden');
                    setUIState(false, 'Kh√¥ng t√¨m th·∫•y th√¥ng tin cho "' + provinceInput.value + '". Vui l√≤ng ki·ªÉm tra l·∫°i.', true);
                }
            } catch (e) {
                setUIState(false, 'ƒê√£ x·∫£y ra l·ªói khi tra c·ª©u. Vui l√≤ng th·ª≠ l·∫°i. Chi ti·∫øt: ' + e.message, true);
            }
        }

        var SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (SpeechRecognition) {
            var recognition = new SpeechRecognition();
            recognition.lang = 'vi-VN';
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;

            micButton.addEventListener('click', function () {
                micButton.classList.add('is-listening');
                micButton.textContent = '..';
                try { recognition.start(); } catch (e) { handleRecognitionError({ error: 'start-failed' }); }
            });
            recognition.addEventListener('speechend', function () {
                recognition.stop();
                micButton.classList.remove('is-listening');
                micButton.textContent = 'üéôÔ∏è';
            });
            recognition.addEventListener('result', function (event) {
                var transcript = event.results[0][0].transcript;
                provinceInput.value = transcript;
                setTimeout(performSearch, 100);
            });
            recognition.addEventListener('error', function (event) {
                handleRecognitionError(event);
            });
            function handleRecognitionError(event) {
                micButton.classList.remove('is-listening');
                micButton.textContent = 'üéôÔ∏è';
                var errorMessage = 'L·ªói kh√¥ng x√°c ƒë·ªãnh.';
                if (event.error === 'not-allowed' || event.error === 'service-not-allowed') {
                    errorMessage = 'Quy·ªÅn truy c·∫≠p micro ƒë√£ b·ªã t·ª´ ch·ªëi.';
                } else if (event.error === 'no-speech') {
                    errorMessage = 'Kh√¥ng nh·∫≠n di·ªán ƒë∆∞·ª£c gi·ªçng n√≥i.';
                }
                setUIState(false, errorMessage, true);
            }
        } else {
            micButton.style.display = 'none';
        }

        searchButton.addEventListener('click', performSearch);
        provinceInput.addEventListener('keydown', function (event) {
            if (event.key === 'Enter' || event.keyCode === 13) {
                event.preventDefault();
                performSearch();
            }
        });

        loadProvinceData();
    </script>
</body>

</html>
